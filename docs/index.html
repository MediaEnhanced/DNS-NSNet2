<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>DNS-NSNet2</title>
	<link rel="icon" type="image/png" sizes="64x64" href="ico/favicon-64x64.png">
	<link rel="stylesheet" href="reset.css">
	<link rel="stylesheet" href="layout.css">
	
</head>
<body>
	<header>
		<object id="favicon" data="ico/favicon.svg" type="image/svg+xml">
			<img src="ico/favicon-256x256.png" />
		</object>
		<h1>DNS&#x2011;NSNet2</h1>
	</header>
	<main>
		<h2>Noise&nbsp;Reduction&nbsp;for&nbsp;<wbr>Speech&nbsp;Audio&nbsp;Files</h2>
		<h3>A fast an easy way to use a trained deep learning AI model to suppress unwanted noise in audio!</h3>
		<section id="exampleSection">
			<h4>Example</h4>
			<iframe id="exampleVideo" width="640" height="360" src="https://www.youtube-nocookie.com/embed/eQEGPATQe5s?rel=0&enablejsapi=1" title="YouTube Video Player" frameborder="0"></iframe>
			<audio  id ="exampleAudio" src="example-Enhanced.opus">
				Your browser does not support the <code>audio</code> element.
			</audio>
			<ul id="exampleButtons">
				<li id="exampleOriginal">Original</li>
				<li id="exampleEnhanced">Enhanced</li>
			</ul>
		</section>
		<a id="downloadLink" href="https://github.com/MediaEnhanced/DNS-NSNet2/releases">Get It Here!</a>
		<section id="sec1">
			<h4>Details</h4>
			<p>NSNet2 is a deep learning artificial recurrent neural network (RNN) used for background noise reduction in speech audio files. Microsoft originally released NSNet2 as an updated comparision baseline for their annual Deep Noise Suppression (DNS) challenge, but it is inconvient to use and is not suited for real-time processing. Use of the released NSNet2 model requires correct versions of Python and supporting libarires (including PyTorch and ONNXruntime) to be installed and properly linked together. These are relatively big software packages to install and configure just to run this one neural network model. Running NSNet2 without any changes also uses massive amounts of uneccessary memory (RAM) that scales with the size of the audio file.</p>
		</section>

	</main>
	<script type="text/javascript">
		//console.log("Script Started");
		var tag = document.createElement('script');
		tag.id = 'iframe-demo';
		tag.src = 'https://www.youtube.com/iframe_api';
		var firstScriptTag = document.getElementsByTagName('script')[0];
		firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
		
		var audio = document.getElementById('exampleAudio');
		audio.volume = 0.0;
		audio.play();
		audio.pause();
		
		var player;
		function onYouTubeIframeAPIReady() {
			//console.log("APIReady!");
			player = new YT.Player('exampleVideo', {
					events: {
						'onReady': onPlayerReady,
						'onStateChange': onPlayerStateChange
					}
			});
		}
		
		function onPlayerReady(event) {
			//console.log("onPlayerReadyCalled");
		}

		function onPlayerStateChange(event) {
			//console.log("player State Changed: " + event.data);
			if (event.data === 1) {
				audio.currentTime = player.getCurrentTime();
				audio.play();
			}
			else if (event.data === 2) {
				audio.pause();
			}
		}
		
		//console.log("Event Listeners");
		var originalButton = document.getElementById('exampleOriginal');
		var enhancedButton = document.getElementById('exampleEnhanced');
		
		function originalClicked(event) {
			//console.log("OriginalClicked");
			originalButton.style.backgroundColor = 'Navy';
			enhancedButton.style.backgroundColor = 'SteelBlue';
			
			player.unMute();
			audio.volume = 0.0;
		}
		
		function enhancedClicked(event) {
			//console.log("EnhancedClicked");
			enhancedButton.style.backgroundColor = 'Navy';
			originalButton.style.backgroundColor = 'SteelBlue';
			
			player.mute();
			audio.volume = player.getVolume() / 100.0;
		}
		
		originalButton.addEventListener('click', originalClicked, false);
		enhancedButton.addEventListener('click', enhancedClicked, false);
		

	</script>
</body>
</html>